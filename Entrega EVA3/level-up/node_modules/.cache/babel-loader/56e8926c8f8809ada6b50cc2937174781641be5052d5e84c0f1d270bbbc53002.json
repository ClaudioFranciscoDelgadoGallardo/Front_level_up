{"ast":null,"code":"const generarIdInvitado = () => {\n  let idInvitado = localStorage.getItem('idInvitado');\n  if (!idInvitado) {\n    idInvitado = 'INV-' + Math.random().toString(36).substr(2, 9).toUpperCase();\n    localStorage.setItem('idInvitado', idInvitado);\n  }\n  return idInvitado;\n};\nexport const registrarLog = (tipo, accion, usuario = null) => {\n  const logs = JSON.parse(localStorage.getItem('logs') || '[]');\n  let nombreUsuario = usuario;\n  if (!nombreUsuario) {\n    const usuarioActual = JSON.parse(localStorage.getItem('usuarioActual') || 'null');\n    if (usuarioActual) {\n      nombreUsuario = usuarioActual.nombre || usuarioActual.correo;\n    } else {\n      nombreUsuario = generarIdInvitado();\n    }\n  }\n  const nuevoLog = {\n    tipo: tipo,\n    fecha: new Date().toISOString(),\n    usuario: nombreUsuario,\n    accion: accion\n  };\n  logs.push(nuevoLog);\n  if (logs.length > 500) {\n    logs.shift();\n  }\n  localStorage.setItem('logs', JSON.stringify(logs));\n  window.dispatchEvent(new Event('logsActualizados'));\n};\nexport const registrarLogAdmin = accion => {\n  const usuarioActual = JSON.parse(localStorage.getItem('usuarioActual') || 'null');\n  const nombreAdmin = usuarioActual ? usuarioActual.nombre || usuarioActual.correo : 'Admin';\n  registrarLog('admin', accion, nombreAdmin);\n};\nexport const registrarLogUsuario = accion => {\n  registrarLog('usuario', accion);\n};","map":{"version":3,"names":["generarIdInvitado","idInvitado","localStorage","getItem","Math","random","toString","substr","toUpperCase","setItem","registrarLog","tipo","accion","usuario","logs","JSON","parse","nombreUsuario","usuarioActual","nombre","correo","nuevoLog","fecha","Date","toISOString","push","length","shift","stringify","window","dispatchEvent","Event","registrarLogAdmin","nombreAdmin","registrarLogUsuario"],"sources":["C:/Users/SoraR/OneDrive/Escritorio/Codigo/Front_level_up/Entrega EVA2/level-up/src/utils/logManager.jsx"],"sourcesContent":["const generarIdInvitado = () => {\r\n  let idInvitado = localStorage.getItem('idInvitado');\r\n  \r\n  if (!idInvitado) {\r\n    idInvitado = 'INV-' + Math.random().toString(36).substr(2, 9).toUpperCase();\r\n    localStorage.setItem('idInvitado', idInvitado);\r\n  }\r\n  \r\n  return idInvitado;\r\n};\r\n\r\nexport const registrarLog = (tipo, accion, usuario = null) => {\r\n  const logs = JSON.parse(localStorage.getItem('logs') || '[]');\r\n  \r\n  let nombreUsuario = usuario;\r\n  \r\n  if (!nombreUsuario) {\r\n    const usuarioActual = JSON.parse(localStorage.getItem('usuarioActual') || 'null');\r\n    if (usuarioActual) {\r\n      nombreUsuario = usuarioActual.nombre || usuarioActual.correo;\r\n    } else {\r\n      nombreUsuario = generarIdInvitado();\r\n    }\r\n  }\r\n  \r\n  const nuevoLog = {\r\n    tipo: tipo,\r\n    fecha: new Date().toISOString(),\r\n    usuario: nombreUsuario,\r\n    accion: accion\r\n  };\r\n  \r\n  logs.push(nuevoLog);\r\n  \r\n  if (logs.length > 500) {\r\n    logs.shift();\r\n  }\r\n  \r\n  localStorage.setItem('logs', JSON.stringify(logs));\r\n  window.dispatchEvent(new Event('logsActualizados'));\r\n};\r\n\r\nexport const registrarLogAdmin = (accion) => {\r\n  const usuarioActual = JSON.parse(localStorage.getItem('usuarioActual') || 'null');\r\n  const nombreAdmin = usuarioActual ? usuarioActual.nombre || usuarioActual.correo : 'Admin';\r\n  registrarLog('admin', accion, nombreAdmin);\r\n};\r\n\r\nexport const registrarLogUsuario = (accion) => {\r\n  registrarLog('usuario', accion);\r\n};\r\n"],"mappings":"AAAA,MAAMA,iBAAiB,GAAGA,CAAA,KAAM;EAC9B,IAAIC,UAAU,GAAGC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC;EAEnD,IAAI,CAACF,UAAU,EAAE;IACfA,UAAU,GAAG,MAAM,GAAGG,IAAI,CAACC,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC,CAACC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;IAC3EN,YAAY,CAACO,OAAO,CAAC,YAAY,EAAER,UAAU,CAAC;EAChD;EAEA,OAAOA,UAAU;AACnB,CAAC;AAED,OAAO,MAAMS,YAAY,GAAGA,CAACC,IAAI,EAAEC,MAAM,EAAEC,OAAO,GAAG,IAAI,KAAK;EAC5D,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACd,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC;EAE7D,IAAIc,aAAa,GAAGJ,OAAO;EAE3B,IAAI,CAACI,aAAa,EAAE;IAClB,MAAMC,aAAa,GAAGH,IAAI,CAACC,KAAK,CAACd,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,IAAI,MAAM,CAAC;IACjF,IAAIe,aAAa,EAAE;MACjBD,aAAa,GAAGC,aAAa,CAACC,MAAM,IAAID,aAAa,CAACE,MAAM;IAC9D,CAAC,MAAM;MACLH,aAAa,GAAGjB,iBAAiB,CAAC,CAAC;IACrC;EACF;EAEA,MAAMqB,QAAQ,GAAG;IACfV,IAAI,EAAEA,IAAI;IACVW,KAAK,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;IAC/BX,OAAO,EAAEI,aAAa;IACtBL,MAAM,EAAEA;EACV,CAAC;EAEDE,IAAI,CAACW,IAAI,CAACJ,QAAQ,CAAC;EAEnB,IAAIP,IAAI,CAACY,MAAM,GAAG,GAAG,EAAE;IACrBZ,IAAI,CAACa,KAAK,CAAC,CAAC;EACd;EAEAzB,YAAY,CAACO,OAAO,CAAC,MAAM,EAAEM,IAAI,CAACa,SAAS,CAACd,IAAI,CAAC,CAAC;EAClDe,MAAM,CAACC,aAAa,CAAC,IAAIC,KAAK,CAAC,kBAAkB,CAAC,CAAC;AACrD,CAAC;AAED,OAAO,MAAMC,iBAAiB,GAAIpB,MAAM,IAAK;EAC3C,MAAMM,aAAa,GAAGH,IAAI,CAACC,KAAK,CAACd,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,IAAI,MAAM,CAAC;EACjF,MAAM8B,WAAW,GAAGf,aAAa,GAAGA,aAAa,CAACC,MAAM,IAAID,aAAa,CAACE,MAAM,GAAG,OAAO;EAC1FV,YAAY,CAAC,OAAO,EAAEE,MAAM,EAAEqB,WAAW,CAAC;AAC5C,CAAC;AAED,OAAO,MAAMC,mBAAmB,GAAItB,MAAM,IAAK;EAC7CF,YAAY,CAAC,SAAS,EAAEE,MAAM,CAAC;AACjC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}