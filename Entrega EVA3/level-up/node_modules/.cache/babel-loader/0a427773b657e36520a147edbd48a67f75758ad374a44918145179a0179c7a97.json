{"ast":null,"code":"const generarIdInvitado=()=>{let idInvitado=localStorage.getItem('idInvitado');if(!idInvitado){idInvitado='INV-'+Math.random().toString(36).substr(2,9).toUpperCase();localStorage.setItem('idInvitado',idInvitado);}return idInvitado;};export const registrarLog=function(tipo,accion){let usuario=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;const logs=JSON.parse(localStorage.getItem('logs')||'[]');let nombreUsuario=usuario;if(!nombreUsuario){const usuarioActual=JSON.parse(localStorage.getItem('usuarioActual')||'null');if(usuarioActual){nombreUsuario=usuarioActual.nombre||usuarioActual.correo;}else{nombreUsuario=generarIdInvitado();}}const nuevoLog={tipo:tipo,fecha:new Date().toISOString(),usuario:nombreUsuario,accion:accion};logs.push(nuevoLog);if(logs.length>500){logs.shift();}localStorage.setItem('logs',JSON.stringify(logs));window.dispatchEvent(new Event('logsActualizados'));};export const registrarLogAdmin=accion=>{const usuarioActual=JSON.parse(localStorage.getItem('usuarioActual')||'null');const nombreAdmin=usuarioActual?usuarioActual.nombre||usuarioActual.correo:'Admin';registrarLog('admin',accion,nombreAdmin);};export const registrarLogUsuario=accion=>{registrarLog('usuario',accion);};","map":{"version":3,"names":["generarIdInvitado","idInvitado","localStorage","getItem","Math","random","toString","substr","toUpperCase","setItem","registrarLog","tipo","accion","usuario","arguments","length","undefined","logs","JSON","parse","nombreUsuario","usuarioActual","nombre","correo","nuevoLog","fecha","Date","toISOString","push","shift","stringify","window","dispatchEvent","Event","registrarLogAdmin","nombreAdmin","registrarLogUsuario"],"sources":["C:/Users/SoraR/OneDrive/Escritorio/Codigo/Front_level_up/Entrega EVA2/level-up/src/utils/logManager.jsx"],"sourcesContent":["const generarIdInvitado = () => {\r\n  let idInvitado = localStorage.getItem('idInvitado');\r\n  \r\n  if (!idInvitado) {\r\n    idInvitado = 'INV-' + Math.random().toString(36).substr(2, 9).toUpperCase();\r\n    localStorage.setItem('idInvitado', idInvitado);\r\n  }\r\n  \r\n  return idInvitado;\r\n};\r\n\r\nexport const registrarLog = (tipo, accion, usuario = null) => {\r\n  const logs = JSON.parse(localStorage.getItem('logs') || '[]');\r\n  \r\n  let nombreUsuario = usuario;\r\n  \r\n  if (!nombreUsuario) {\r\n    const usuarioActual = JSON.parse(localStorage.getItem('usuarioActual') || 'null');\r\n    if (usuarioActual) {\r\n      nombreUsuario = usuarioActual.nombre || usuarioActual.correo;\r\n    } else {\r\n      nombreUsuario = generarIdInvitado();\r\n    }\r\n  }\r\n  \r\n  const nuevoLog = {\r\n    tipo: tipo,\r\n    fecha: new Date().toISOString(),\r\n    usuario: nombreUsuario,\r\n    accion: accion\r\n  };\r\n  \r\n  logs.push(nuevoLog);\r\n  \r\n  if (logs.length > 500) {\r\n    logs.shift();\r\n  }\r\n  \r\n  localStorage.setItem('logs', JSON.stringify(logs));\r\n  window.dispatchEvent(new Event('logsActualizados'));\r\n};\r\n\r\nexport const registrarLogAdmin = (accion) => {\r\n  const usuarioActual = JSON.parse(localStorage.getItem('usuarioActual') || 'null');\r\n  const nombreAdmin = usuarioActual ? usuarioActual.nombre || usuarioActual.correo : 'Admin';\r\n  registrarLog('admin', accion, nombreAdmin);\r\n};\r\n\r\nexport const registrarLogUsuario = (accion) => {\r\n  registrarLog('usuario', accion);\r\n};\r\n"],"mappings":"AAAA,KAAM,CAAAA,iBAAiB,CAAGA,CAAA,GAAM,CAC9B,GAAI,CAAAC,UAAU,CAAGC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,CAEnD,GAAI,CAACF,UAAU,CAAE,CACfA,UAAU,CAAG,MAAM,CAAGG,IAAI,CAACC,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC,CAACC,MAAM,CAAC,CAAC,CAAE,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAC3EN,YAAY,CAACO,OAAO,CAAC,YAAY,CAAER,UAAU,CAAC,CAChD,CAEA,MAAO,CAAAA,UAAU,CACnB,CAAC,CAED,MAAO,MAAM,CAAAS,YAAY,CAAG,QAAAA,CAACC,IAAI,CAAEC,MAAM,CAAqB,IAAnB,CAAAC,OAAO,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,IAAI,CACvD,KAAM,CAAAG,IAAI,CAAGC,IAAI,CAACC,KAAK,CAACjB,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,EAAI,IAAI,CAAC,CAE7D,GAAI,CAAAiB,aAAa,CAAGP,OAAO,CAE3B,GAAI,CAACO,aAAa,CAAE,CAClB,KAAM,CAAAC,aAAa,CAAGH,IAAI,CAACC,KAAK,CAACjB,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,EAAI,MAAM,CAAC,CACjF,GAAIkB,aAAa,CAAE,CACjBD,aAAa,CAAGC,aAAa,CAACC,MAAM,EAAID,aAAa,CAACE,MAAM,CAC9D,CAAC,IAAM,CACLH,aAAa,CAAGpB,iBAAiB,CAAC,CAAC,CACrC,CACF,CAEA,KAAM,CAAAwB,QAAQ,CAAG,CACfb,IAAI,CAAEA,IAAI,CACVc,KAAK,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAC/Bd,OAAO,CAAEO,aAAa,CACtBR,MAAM,CAAEA,MACV,CAAC,CAEDK,IAAI,CAACW,IAAI,CAACJ,QAAQ,CAAC,CAEnB,GAAIP,IAAI,CAACF,MAAM,CAAG,GAAG,CAAE,CACrBE,IAAI,CAACY,KAAK,CAAC,CAAC,CACd,CAEA3B,YAAY,CAACO,OAAO,CAAC,MAAM,CAAES,IAAI,CAACY,SAAS,CAACb,IAAI,CAAC,CAAC,CAClDc,MAAM,CAACC,aAAa,CAAC,GAAI,CAAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC,CACrD,CAAC,CAED,MAAO,MAAM,CAAAC,iBAAiB,CAAItB,MAAM,EAAK,CAC3C,KAAM,CAAAS,aAAa,CAAGH,IAAI,CAACC,KAAK,CAACjB,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,EAAI,MAAM,CAAC,CACjF,KAAM,CAAAgC,WAAW,CAAGd,aAAa,CAAGA,aAAa,CAACC,MAAM,EAAID,aAAa,CAACE,MAAM,CAAG,OAAO,CAC1Fb,YAAY,CAAC,OAAO,CAAEE,MAAM,CAAEuB,WAAW,CAAC,CAC5C,CAAC,CAED,MAAO,MAAM,CAAAC,mBAAmB,CAAIxB,MAAM,EAAK,CAC7CF,YAAY,CAAC,SAAS,CAAEE,MAAM,CAAC,CACjC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}